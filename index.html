<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Wedding Planner Pro</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Playfair+Display:wght@400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="app-container">
      <!-- Header -->
      <header class="app-header">
        <div class="header-content">
          <h1 class="app-title">WEDDING PLANNER PRO</h1>
          <p class="app-subtitle" id="coupleNameDisplay">Professional Event Management</p>
        </div>
        <button id="shareBtn" class="share-btn" aria-label="Share wedding plan">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="18" cy="5" r="3"></circle>
            <circle cx="6" cy="12" r="3"></circle>
            <circle cx="18" cy="19" r="3"></circle>
            <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line>
            <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>
          </svg>
          Share
        </button>
      </header>

      <!-- Tab Navigation -->
      <nav class="tab-nav">
        <button class="tab-btn active" data-tab="overview">
          <span class="tab-icon">üíí</span>
          <span class="tab-label">Overview</span>
        </button>
        <button class="tab-btn" data-tab="guests">
          <span class="tab-icon">üë•</span>
          <span class="tab-label">Guests</span>
        </button>
        <button class="tab-btn" data-tab="events">
          <span class="tab-icon">üéä</span>
          <span class="tab-label">Events</span>
        </button>
        <button class="tab-btn" data-tab="invitations">
          <span class="tab-icon">‚úâÔ∏è</span>
          <span class="tab-label">Invitations</span>
        </button>
        <button class="tab-btn" data-tab="planning">
          <span class="tab-icon">üìã</span>
          <span class="tab-label">Planning</span>
        </button>
        <button class="tab-btn" data-tab="budget">
          <span class="tab-icon">üí∞</span>
          <span class="tab-label">Budget</span>
        </button>
      </nav>

      <!-- Main Content -->
      <main class="app-main">
        
        <!-- Overview Tab -->
        <section class="tab-content active" id="tab-overview">
          <div class="overview-hero">
            <div class="countdown-card">
              <div class="countdown-label">COUNTDOWN TO EVENT</div>
              <div class="countdown-number" id="countdownDays">--</div>
            </div>
          </div>

          <div class="wedding-details-card">
            <h2 class="section-title">Wedding Details</h2>
            <form id="weddingMetaForm" class="wedding-form">
              <div class="form-field">
                <label>Couple Names</label>
                <input id="coupleNameInput" type="text" placeholder="Bride & Groom" />
              </div>
              <div class="form-field">
                <label>Wedding Date</label>
                <input id="weddingDateInput" type="date" />
              </div>
              <div class="form-field">
                <label>Venue</label>
                <input id="primaryVenueInput" type="text" placeholder="The Grand Palace" />
              </div>
              <div class="form-field">
                <label>Total Budget (CAD)</label>
                <input id="totalBudgetInput" type="number" min="0" step="100" placeholder="20000" />
              </div>
            </form>
          </div>

          <div class="budget-tracker-card">
            <h3>Budget Overview</h3>
            <div class="budget-bars">
              <div class="budget-bar-item">
                <div class="budget-bar-header">
                  <span>Total Budget</span>
                  <span id="budgetTotal" class="budget-value">CAD $0</span>
                </div>
              </div>
              <div class="budget-bar-item">
                <div class="budget-bar-header">
                  <span>Total Spent</span>
                  <span id="budgetSpent" class="budget-value spent">CAD $0</span>
                </div>
                <div class="progress-bar">
                  <div id="budgetSpentBar" class="progress-fill" style="width: 0%"></div>
                </div>
              </div>
              <div class="budget-bar-item">
                <div class="budget-bar-header">
                  <span>Remaining</span>
                  <span id="budgetRemaining" class="budget-value remaining">CAD $0</span>
                </div>
              </div>
            </div>
          </div>

          <div class="stats-grid">
            <div class="stat-card">
              <div class="stat-icon">üë•</div>
              <div class="stat-value" id="statGuestCount">0</div>
              <div class="stat-label">Guests</div>
            </div>
            <div class="stat-card">
              <div class="stat-icon">üéä</div>
              <div class="stat-value" id="statEventCount">0</div>
              <div class="stat-label">Events</div>
            </div>
            <div class="stat-card">
              <div class="stat-icon">‚úÖ</div>
              <div class="stat-value" id="statTasksDone">0/<span id="statTasksTotal">0</span></div>
              <div class="stat-label">Tasks Done</div>
            </div>
            <div class="stat-card">
              <div class="stat-icon">üí∞</div>
              <div class="stat-value" id="statBudget">‚Çπ0</div>
              <div class="stat-label">Budget</div>
            </div>
          </div>

          <div class="share-card">
            <h3>Share Your Wedding Plan</h3>
            <p class="share-description">Share this planner with your partner, family, or wedding planner</p>
            <div class="share-link-display">
              <input type="text" id="shareLinkOutput" readonly placeholder="Your shareable link will appear here..." />
              <button id="copyLinkBtn" class="copy-btn">Copy</button>
            </div>
          </div>

          <div class="master-pdf-card">
            <h3>Master Wedding Plan PDF</h3>
            <p class="share-description">Generate a comprehensive PDF with all wedding details, events, guests, planning, and budget</p>
            <button id="printMasterPlanBtn" type="button" class="btn-master-pdf">
              üñ®Ô∏è Generate Master Plan PDF
            </button>
          </div>

          <button id="resetPlanBtn" type="button" class="reset-btn">Start Fresh Planning</button>
        </section>

        <!-- Guests Tab -->
        <section class="tab-content" id="tab-guests">
          <div class="section-header-with-print">
            <h2 class="section-title">Guest List</h2>
            <button type="button" id="printGuestListBtn" class="btn-print" aria-label="Print guest list">üñ®Ô∏è Print</button>
          </div>
          
          <div class="add-guest-card">
            <h3>Add Guest Group</h3>
            <p class="add-guest-hint">Add groups of guests with counts (e.g., "Mom's Friends - 7", "John +1", "Groom's Colleagues - 20")</p>
            <form id="guestForm" class="guest-form">
              <input name="name" type="text" placeholder="Group Name (e.g., Mom's Friends, John +1)" required />
              <input name="count" type="number" min="1" value="1" placeholder="Count" required />
              <select name="group" required>
                <option value="">Select Group</option>
                <option value="family">Family</option>
                <option value="girlfriend">Friends (Bride)</option>
                <option value="friends">Friends (Groom)</option>
                <option value="cousins">Extended Family</option>
                <option value="colleagues">Colleagues</option>
                <option value="vip">Special Guests</option>
              </select>
              <input name="phone" type="tel" placeholder="Contact Phone (optional)" />
              <input name="notes" type="text" placeholder="Notes (optional)" />
              <button type="submit" class="btn-add">Add Guest Group</button>
            </form>
          </div>

          <div class="guest-list" id="guestListContainer">
            <!-- Guest cards will be rendered here -->
          </div>
        </section>

        <!-- Events Tab -->
        <section class="tab-content" id="tab-events">
          <div class="section-header-with-print">
            <h2 class="section-title">Wedding Events</h2>
            <button type="button" id="printEventsBtn" class="btn-print" aria-label="Print events">üñ®Ô∏è Print</button>
          </div>
          
          <div class="add-event-card">
            <h3>Add New Event</h3>
            <form id="addEventForm" class="event-form">
              <input name="name" type="text" placeholder="Event Name (e.g., Mehndi)" required />
              <input name="date" type="date" required />
              <input name="venue" type="text" placeholder="Venue" required />
              <button type="submit" class="btn-add">Add Event</button>
            </form>
          </div>

          <div id="allEventsPreview" class="all-events-preview">
            <!-- All events will be rendered here -->
          </div>

          <div class="event-selector">
            <label><strong>Select Event to Manage</strong></label>
            <p class="muted" style="margin-top: 4px; margin-bottom: 8px;">Choose an event from the dropdown below to view and edit its details</p>
            <select id="eventSelect" class="event-select"></select>
            <button id="deleteEventBtn" type="button" class="btn-delete">Delete Event</button>
          </div>

          <div class="event-details-card">
            <h3>Event Details</h3>
            <form id="eventMetaForm" class="event-details-form">
              <div class="form-field">
                <label>Event Name</label>
                <input id="eventNameInput" type="text" />
              </div>
              <div class="form-field">
                <label>Date</label>
                <input id="eventDateInput" type="date" />
              </div>
              <div class="form-field">
                <label>Venue</label>
                <input id="eventVenueInput" type="text" />
              </div>
              <div class="form-field">
                <label>Notes</label>
                <textarea id="eventNotesInput" rows="3" placeholder="Special instructions, timing, etc."></textarea>
              </div>
            </form>
          </div>

          <div class="invite-section">
            <h3>Guest Invitations for This Event</h3>
            <div class="invite-controls">
              <select id="inviteGroupFilter" class="filter-select">
                <option value="all">All Groups</option>
                <option value="family">Family</option>
                <option value="girlfriend">Friends (Bride)</option>
                <option value="friends">Friends (Groom)</option>
                <option value="cousins">Extended Family</option>
                <option value="colleagues">Colleagues</option>
                <option value="vip">Special Guests</option>
              </select>
              <button id="inviteFilteredBtn" type="button" class="btn-small">Invite Filtered</button>
              <button id="selectAllGuestsBtn" type="button" class="btn-small">Select All</button>
              <button id="clearInvitesBtn" type="button" class="btn-small">Clear All</button>
              <button id="applyTraditionalScenarioBtn" type="button" class="btn-small btn-special">Auto-Invite</button>
            </div>
            <div id="inviteGuestList" class="invite-grid"></div>
          </div>
        </section>

        <!-- Invitations Tab -->
        <section class="tab-content" id="tab-invitations">
          <div class="section-header-with-print">
            <h2 class="section-title">Wedding Invitations Tracker</h2>
            <button type="button" id="printInvitationsBtn" class="btn-print" aria-label="Print invitations">üñ®Ô∏è Print</button>
          </div>

          <div class="invitation-stats-card">
            <div class="invitation-stat">
              <div class="stat-number" id="invitationsSent">0</div>
              <div class="stat-label">Invitations Sent</div>
            </div>
            <div class="invitation-stat">
              <div class="stat-number" id="invitationsPending">0</div>
              <div class="stat-label">Pending</div>
            </div>
            <div class="invitation-stat">
              <div class="stat-number" id="invitationsTotal">0</div>
              <div class="stat-label">Total Groups</div>
            </div>
          </div>

          <div class="invitation-controls">
            <button id="markAllSentBtn" type="button" class="btn-action">Mark All as Sent</button>
            <button id="markAllPendingBtn" type="button" class="btn-action">Mark All as Pending</button>
            <select id="invitationFilterSelect" class="filter-select">
              <option value="all">All Groups</option>
              <option value="sent">Sent</option>
              <option value="pending">Pending</option>
              <option value="family">Family</option>
              <option value="girlfriend">Friends (Bride)</option>
              <option value="friends">Friends (Groom)</option>
              <option value="cousins">Extended Family</option>
              <option value="colleagues">Colleagues</option>
              <option value="vip">Special Guests</option>
            </select>
          </div>

          <div id="invitationsList" class="invitations-list">
            <!-- Invitation tracking items will be rendered here -->
          </div>
        </section>

        <!-- Planning Tab -->
        <section class="tab-content" id="tab-planning">
          <h2 class="section-title">Event Planning Tracker</h2>
          
          <div class="event-multi-selector">
            <h3>Select Events for Planning</h3>
            <p class="selector-hint">Select one or multiple events to add shared planning items</p>
            <div id="planningEventCheckboxes" class="event-checkbox-grid">
              <!-- Event checkboxes will be rendered here -->
            </div>
            <div class="selected-events-display">
              <strong>Selected:</strong> <span id="selectedEventsDisplay">None</span>
            </div>
          </div>

          <!-- Tasks -->
          <div class="tracker-section">
            <div class="tracker-header">
              <h3>‚úÖ Tasks</h3>
            </div>
            <form id="taskForm" class="tracker-form">
              <input name="title" type="text" placeholder="Task" required />
              <input name="owner" type="text" placeholder="Assigned to" />
              <select name="status">
                <option value="pending">To Do</option>
                <option value="in_progress">In Progress</option>
                <option value="done">Done</option>
              </select>
              <input name="deadline" type="date" />
              <button type="submit" class="btn-add-mini">+</button>
            </form>
            <div class="tracker-items" id="taskList"></div>
          </div>

          <!-- Vendor Bookings -->
          <div class="tracker-section">
            <div class="tracker-header">
              <h3>üìû Vendor Bookings</h3>
            </div>
            <form id="vendorForm" class="tracker-form">
              <input name="vendor" type="text" placeholder="Vendor Name" required />
              <select name="service" required>
                <option value="">Select Service</option>
                <option value="Mehndi Artist">Mehndi Artist</option>
                <option value="Makeup Artist">Makeup Artist</option>
                <option value="Photographer">Photographer</option>
                <option value="Videographer">Videographer</option>
                <option value="DJ/Music">DJ/Music</option>
                <option value="Band/Live Music">Band/Live Music</option>
                <option value="Decorator">Decorator</option>
                <option value="Florist">Florist</option>
                <option value="Caterer">Caterer</option>
                <option value="Baker/Cake">Baker/Cake</option>
                <option value="Transportation">Transportation</option>
                <option value="Venue">Venue</option>
                <option value="Priest/Officiant">Priest/Officiant</option>
                <option value="Hair Stylist">Hair Stylist</option>
                <option value="Choreographer">Choreographer</option>
                <option value="Other">Other</option>
              </select>
              <input name="contact" type="text" placeholder="Phone/Email" />
              <input name="cost" type="number" placeholder="Total Cost (CAD)" min="0" step="0.01" />
              <input name="advance" type="number" placeholder="Advance Paid (CAD)" min="0" step="0.01" />
              <select name="status">
                <option value="pending">Pending</option>
                <option value="contacted">Contacted</option>
                <option value="booked">Booked</option>
                <option value="confirmed">Confirmed</option>
                <option value="completed">Completed</option>
              </select>
              <input name="notes" type="text" placeholder="Notes (optional)" />
              <button type="submit" class="btn-add-mini">+</button>
            </form>
            <div class="tracker-items" id="vendorList"></div>
          </div>

          <!-- Materials -->
          <div class="tracker-section">
            <div class="tracker-header">
              <h3>üì¶ Materials & Supplies</h3>
            </div>
            <form id="materialForm" class="tracker-form">
              <input name="item" type="text" placeholder="Item Name" required />
              <input name="qty" type="number" placeholder="Qty" min="1" value="1" />
              <input name="vendor" type="text" placeholder="Vendor Name" />
              <input name="cost" type="number" placeholder="Total Cost (CAD)" min="0" step="0.01" />
              <input name="advance" type="number" placeholder="Advance Paid (CAD)" min="0" step="0.01" />
              <select name="status">
                <option value="pending">Pending</option>
                <option value="ordered">Ordered</option>
                <option value="delivered">Delivered</option>
              </select>
              <button type="submit" class="btn-add-mini">+</button>
            </form>
            <div class="tracker-items" id="materialList"></div>
          </div>

          <!-- Food -->
          <div class="tracker-section">
            <div class="tracker-header">
              <h3>üçΩÔ∏è Food & Catering</h3>
            </div>
            <form id="foodForm" class="tracker-form">
              <input name="dish" type="text" placeholder="Menu Item" required />
              <input name="course" type="text" placeholder="Course Type" />
              <input name="vendor" type="text" placeholder="Caterer Name" />
              <input name="servings" type="number" placeholder="Servings" min="0" />
              <input name="cost" type="number" placeholder="Total Cost (CAD)" min="0" step="0.01" />
              <input name="advance" type="number" placeholder="Advance Paid (CAD)" min="0" step="0.01" />
              <button type="submit" class="btn-add-mini">+</button>
            </form>
            <div class="tracker-items" id="foodList"></div>
          </div>

          <!-- Decor -->
          <div class="tracker-section">
            <div class="tracker-header">
              <h3>üå∏ Decor</h3>
            </div>
            <form id="decorForm" class="tracker-form">
              <input name="element" type="text" placeholder="Decor Element" required />
              <input name="vendor" type="text" placeholder="Decorator Name" />
              <input name="theme" type="text" placeholder="Theme/Color" />
              <input name="cost" type="number" placeholder="Total Cost (CAD)" min="0" step="0.01" />
              <input name="advance" type="number" placeholder="Advance Paid (CAD)" min="0" step="0.01" />
              <select name="status">
                <option value="pending">Pending</option>
                <option value="approved">Approved</option>
                <option value="ready">Ready</option>
              </select>
              <button type="submit" class="btn-add-mini">+</button>
            </form>
            <div class="tracker-items" id="decorList"></div>
          </div>

          <!-- Entertainment -->
          <div class="tracker-section">
            <div class="tracker-header">
              <h3>üéµ Entertainment</h3>
            </div>
            <form id="djForm" class="tracker-form">
              <input name="slot" type="text" placeholder="Time Slot" required />
              <input name="performer" type="text" placeholder="Performer/Vendor Name" />
              <input name="type" type="text" placeholder="Type" />
              <input name="cost" type="number" placeholder="Total Cost (CAD)" min="0" step="0.01" />
              <input name="advance" type="number" placeholder="Advance Paid (CAD)" min="0" step="0.01" />
              <input name="notes" type="text" placeholder="Notes" />
              <button type="submit" class="btn-add-mini">+</button>
            </form>
            <div class="tracker-items" id="djList"></div>
          </div>

          <!-- Favors -->
          <div class="tracker-section">
            <div class="tracker-header">
              <h3>üéÅ Party Favors</h3>
            </div>
            <form id="favorForm" class="tracker-form">
              <input name="item" type="text" placeholder="Favor Item" required />
              <input name="qty" type="number" placeholder="Qty" min="1" value="1" />
              <input name="vendor" type="text" placeholder="Vendor Name" />
              <input name="cost" type="number" placeholder="Total Cost (CAD)" min="0" step="0.01" />
              <input name="advance" type="number" placeholder="Advance Paid (CAD)" min="0" step="0.01" />
              <input name="notes" type="text" placeholder="Notes" />
              <button type="submit" class="btn-add-mini">+</button>
            </form>
            <div class="tracker-items" id="favorList"></div>
          </div>
        </section>

        <!-- Budget Tab -->
        <section class="tab-content" id="tab-budget">
          <div class="section-header-with-print">
            <h2 class="section-title">Budget Management</h2>
            <div class="print-buttons-group">
              <button type="button" id="printBudgetBtn" class="btn-print" aria-label="Print budget">üñ®Ô∏è Print Budget</button>
              <button type="button" id="printExpensesBtn" class="btn-print" aria-label="Print expenses">üñ®Ô∏è Print Expenses</button>
            </div>
          </div>
          
          <div class="budget-summary-detailed">
            <div class="budget-overview-card">
              <div class="budget-stat">
                <div class="budget-stat-label">Total Budget</div>
                <div class="budget-stat-value" id="budgetTabTotal">CAD $0</div>
              </div>
              <div class="budget-stat">
                <div class="budget-stat-label">Total Spent</div>
                <div class="budget-stat-value spent" id="budgetTabSpent">CAD $0</div>
              </div>
              <div class="budget-stat">
                <div class="budget-stat-label">Remaining</div>
                <div class="budget-stat-value remaining" id="budgetTabRemaining">CAD $0</div>
              </div>
            </div>
            <div class="progress-bar-large">
              <div id="budgetProgressBar" class="progress-fill-large" style="width: 0%"></div>
            </div>
            <div class="progress-label">
              <span id="budgetPercentage">0%</span> of budget used
            </div>
          </div>

          <div class="budget-breakdown">
            <h3>Vendor Payments</h3>
            <div id="vendorPaymentsList" class="vendor-payments-list">
              <!-- Vendor payments will be rendered here -->
            </div>
          </div>

          <div class="budget-breakdown">
            <h3>Budget by Event</h3>
            <div id="eventBudgetList" class="event-budget-list">
              <!-- Event budget breakdown will be rendered here -->
            </div>
          </div>

          <div class="budget-breakdown">
            <h3>Budget by Category</h3>
            <div class="category-budget-grid">
              <div class="budget-category-card">
                <div class="category-icon">üìû</div>
                <div class="category-name">Vendors</div>
                <div class="category-amount" id="budgetVendors">CAD $0</div>
              </div>
              <div class="budget-category-card">
                <div class="category-icon">üì¶</div>
                <div class="category-name">Materials</div>
                <div class="category-amount" id="budgetMaterials">CAD $0</div>
              </div>
              <div class="budget-category-card">
                <div class="category-icon">üçΩÔ∏è</div>
                <div class="category-name">Food</div>
                <div class="category-amount" id="budgetFood">CAD $0</div>
              </div>
              <div class="budget-category-card">
                <div class="category-icon">üå∏</div>
                <div class="category-name">Decor</div>
                <div class="category-amount" id="budgetDecor">CAD $0</div>
              </div>
              <div class="budget-category-card">
                <div class="category-icon">üéµ</div>
                <div class="category-name">Entertainment</div>
                <div class="category-amount" id="budgetEntertainment">CAD $0</div>
              </div>
              <div class="budget-category-card">
                <div class="category-icon">üéÅ</div>
                <div class="category-name">Favors</div>
                <div class="category-amount" id="budgetFavors">CAD $0</div>
              </div>
            </div>
          </div>
        </section>

      </main>

      <!-- Status Toast -->
      <div id="statusToast" class="status-toast"></div>

      <!-- Share Modal -->
      <div id="shareModal" class="modal">
        <div class="modal-content">
          <button class="modal-close" id="closeModal">&times;</button>
          <h2>Share Your Wedding Plan</h2>
          <p class="modal-desc">Copy this link to share your wedding plan with others:</p>
          <div class="modal-link-display">
            <input type="text" id="modalShareLink" readonly />
            <button id="modalCopyBtn" class="modal-copy-btn">Copy Link</button>
          </div>
        </div>
      </div>

      <!-- Guest Names Modal -->
      <div id="guestNamesModal" class="modal">
        <div class="modal-content">
          <button class="modal-close" id="closeGuestNamesModal">&times;</button>
          <h2 id="guestNamesModalTitle">Manage Guest Names</h2>
          <p class="modal-desc" id="guestNamesModalDesc">Add individual names for this group</p>
          
          <div class="guest-count-editor">
            <label for="editGroupCount"><strong>Group Count:</strong></label>
            <div class="count-edit-row">
              <input type="number" id="editGroupCount" min="1" value="1" />
              <button id="updateGroupCountBtn" class="btn-primary-small">Update Count</button>
            </div>
            <p class="count-hint" id="countHint">Current: 0 names added</p>
          </div>

          <div class="guest-names-form">
            <form id="addGuestNameForm" class="add-name-form">
              <input type="text" name="guestName" placeholder="Guest Name" required />
              <button type="submit" class="btn-add-mini">Add</button>
            </form>
          </div>

          <div id="guestNamesList" class="guest-names-list">
            <!-- Individual guest names will be rendered here -->
          </div>

          <button id="closeGuestNamesBtn" class="btn-primary" style="margin-top: 20px; width: 100%;">Done</button>
        </div>
      </div>
    </div>

    <script src="app.js"></script>
  </body>
</html>
