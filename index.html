<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Wedding Planner</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Playfair+Display:wght@400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="app-container">
      <!-- Header -->
      <header class="app-header">
        <div class="header-content">
          <h1 class="app-title">Wedding Planner</h1>
          <p class="app-subtitle" id="coupleNameDisplay">Your Wedding Details</p>
        </div>
        <button id="shareBtn" class="share-btn" aria-label="Share wedding plan">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="18" cy="5" r="3"></circle>
            <circle cx="6" cy="12" r="3"></circle>
            <circle cx="18" cy="19" r="3"></circle>
            <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line>
            <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>
          </svg>
          Share
        </button>
      </header>

      <!-- Tab Navigation -->
      <nav class="tab-nav">
        <button class="tab-btn active" data-tab="overview">
          <span class="tab-icon">ğŸ’’</span>
          <span class="tab-label">Overview</span>
        </button>
        <button class="tab-btn" data-tab="guests">
          <span class="tab-icon">ğŸ‘¥</span>
          <span class="tab-label">Guests</span>
        </button>
        <button class="tab-btn" data-tab="events">
          <span class="tab-icon">ğŸŠ</span>
          <span class="tab-label">Events</span>
        </button>
        <button class="tab-btn" data-tab="planning">
          <span class="tab-icon">ğŸ“‹</span>
          <span class="tab-label">Planning</span>
        </button>
        <button class="tab-btn" data-tab="budget">
          <span class="tab-icon">ğŸ’°</span>
          <span class="tab-label">Budget</span>
        </button>
      </nav>

      <!-- Main Content -->
      <main class="app-main">
        
        <!-- Overview Tab -->
        <section class="tab-content active" id="tab-overview">
          <div class="overview-hero">
            <div class="countdown-card">
              <div class="countdown-label">Days Until Wedding</div>
              <div class="countdown-number" id="countdownDays">--</div>
            </div>
          </div>

          <div class="wedding-details-card">
            <h2 class="section-title">Wedding Details</h2>
            <form id="weddingMetaForm" class="wedding-form">
              <div class="form-field">
                <label>Couple Names</label>
                <input id="coupleNameInput" type="text" placeholder="Bride & Groom" />
              </div>
              <div class="form-field">
                <label>Wedding Date</label>
                <input id="weddingDateInput" type="date" />
              </div>
              <div class="form-field">
                <label>Venue</label>
                <input id="primaryVenueInput" type="text" placeholder="The Grand Palace" />
              </div>
            </form>
          </div>

          <div class="stats-grid">
            <div class="stat-card">
              <div class="stat-icon">ğŸ‘¥</div>
              <div class="stat-value" id="statGuestCount">0</div>
              <div class="stat-label">Guests</div>
            </div>
            <div class="stat-card">
              <div class="stat-icon">ğŸŠ</div>
              <div class="stat-value" id="statEventCount">0</div>
              <div class="stat-label">Events</div>
            </div>
            <div class="stat-card">
              <div class="stat-icon">âœ…</div>
              <div class="stat-value" id="statTasksDone">0/<span id="statTasksTotal">0</span></div>
              <div class="stat-label">Tasks Done</div>
            </div>
            <div class="stat-card">
              <div class="stat-icon">ğŸ’°</div>
              <div class="stat-value" id="statBudget">â‚¹0</div>
              <div class="stat-label">Budget</div>
            </div>
          </div>

          <div class="share-card">
            <h3>Share Your Wedding Plan</h3>
            <p class="share-description">Share this planner with your partner, family, or wedding planner</p>
            <div class="share-link-display">
              <input type="text" id="shareLinkOutput" readonly placeholder="Your shareable link will appear here..." />
              <button id="copyLinkBtn" class="copy-btn">Copy</button>
            </div>
          </div>

          <button id="resetPlanBtn" type="button" class="reset-btn">Start Fresh Planning</button>
        </section>

        <!-- Guests Tab -->
        <section class="tab-content" id="tab-guests">
          <h2 class="section-title">Guest List</h2>
          
          <div class="add-guest-card">
            <h3>Add Guest Group</h3>
            <p class="add-guest-hint">Add groups of guests with counts (e.g., "Mom's Friends - 7", "John +1", "Groom's Colleagues - 20")</p>
            <form id="guestForm" class="guest-form">
              <input name="name" type="text" placeholder="Group Name (e.g., Mom's Friends, John +1)" required />
              <input name="count" type="number" min="1" value="1" placeholder="Count" required />
              <select name="group" required>
                <option value="">Select Category</option>
                <option value="family">Family</option>
                <option value="girlfriend">Friends (Bride)</option>
                <option value="friends">Friends (Groom)</option>
                <option value="cousins">Extended Family</option>
                <option value="colleagues">Colleagues</option>
                <option value="vip">Special Guests</option>
              </select>
              <input name="phone" type="tel" placeholder="Contact Phone (optional)" />
              <input name="notes" type="text" placeholder="Notes (optional)" />
              <button type="submit" class="btn-add">Add Guest Group</button>
            </form>
          </div>

          <div class="guest-list" id="guestListContainer">
            <!-- Guest cards will be rendered here -->
          </div>
        </section>

        <!-- Events Tab -->
        <section class="tab-content" id="tab-events">
          <h2 class="section-title">Wedding Events</h2>
          
          <div class="add-event-card">
            <h3>Add New Event</h3>
            <form id="addEventForm" class="event-form">
              <input name="name" type="text" placeholder="Event Name (e.g., Mehndi)" required />
              <input name="date" type="date" required />
              <input name="venue" type="text" placeholder="Venue" required />
              <button type="submit" class="btn-add">Add Event</button>
            </form>
          </div>

          <div class="event-selector">
            <label>Select Event to Manage</label>
            <select id="eventSelect" class="event-select"></select>
            <button id="deleteEventBtn" type="button" class="btn-delete">Delete Event</button>
          </div>

          <div class="event-details-card">
            <h3>Event Details</h3>
            <form id="eventMetaForm" class="event-details-form">
              <div class="form-field">
                <label>Event Name</label>
                <input id="eventNameInput" type="text" />
              </div>
              <div class="form-field">
                <label>Date</label>
                <input id="eventDateInput" type="date" />
              </div>
              <div class="form-field">
                <label>Venue</label>
                <input id="eventVenueInput" type="text" />
              </div>
              <div class="form-field">
                <label>Notes</label>
                <textarea id="eventNotesInput" rows="3" placeholder="Special instructions, timing, etc."></textarea>
              </div>
            </form>
          </div>

          <div class="invite-section">
            <h3>Guest Invitations for This Event</h3>
            <div class="invite-controls">
              <select id="inviteGroupFilter" class="filter-select">
                <option value="all">All Groups</option>
                <option value="family">Family</option>
                <option value="girlfriend">Friends (Bride)</option>
                <option value="friends">Friends (Groom)</option>
                <option value="cousins">Extended Family</option>
                <option value="colleagues">Colleagues</option>
                <option value="vip">Special Guests</option>
              </select>
              <button id="inviteFilteredBtn" type="button" class="btn-small">Invite Group</button>
              <button id="clearInvitesBtn" type="button" class="btn-small">Clear All</button>
              <button id="applyTraditionalScenarioBtn" type="button" class="btn-small btn-special">Auto-Invite</button>
            </div>
            <div id="inviteGuestList" class="invite-grid"></div>
          </div>
        </section>

        <!-- Planning Tab -->
        <section class="tab-content" id="tab-planning">
          <h2 class="section-title">Event Planning Tracker</h2>
          
          <div class="planning-notice">
            <p>ğŸ“‹ Select an event from the Events tab to track its planning details</p>
          </div>

          <!-- Tasks -->
          <div class="tracker-section">
            <div class="tracker-header">
              <h3>âœ… Tasks</h3>
            </div>
            <form id="taskForm" class="tracker-form">
              <input name="title" type="text" placeholder="Task" required />
              <input name="owner" type="text" placeholder="Assigned to" />
              <select name="status">
                <option value="pending">To Do</option>
                <option value="in_progress">In Progress</option>
                <option value="done">Done</option>
              </select>
              <input name="deadline" type="date" />
              <button type="submit" class="btn-add-mini">+</button>
            </form>
            <div class="tracker-items" id="taskList"></div>
          </div>

          <!-- Materials -->
          <div class="tracker-section">
            <div class="tracker-header">
              <h3>ğŸ“¦ Materials & Supplies</h3>
            </div>
            <form id="materialForm" class="tracker-form">
              <input name="item" type="text" placeholder="Item" required />
              <input name="qty" type="number" placeholder="Qty" min="1" value="1" />
              <input name="vendor" type="text" placeholder="Vendor" />
              <select name="status">
                <option value="pending">Pending</option>
                <option value="ordered">Ordered</option>
                <option value="delivered">Delivered</option>
              </select>
              <input name="cost" type="number" placeholder="Cost" min="0" step="0.01" />
              <button type="submit" class="btn-add-mini">+</button>
            </form>
            <div class="tracker-items" id="materialList"></div>
          </div>

          <!-- Food -->
          <div class="tracker-section">
            <div class="tracker-header">
              <h3>ğŸ½ï¸ Food & Catering</h3>
            </div>
            <form id="foodForm" class="tracker-form">
              <input name="dish" type="text" placeholder="Dish" required />
              <input name="course" type="text" placeholder="Course" />
              <input name="vendor" type="text" placeholder="Caterer" />
              <input name="servings" type="number" placeholder="Servings" min="0" />
              <input name="cost" type="number" placeholder="Cost" min="0" step="0.01" />
              <button type="submit" class="btn-add-mini">+</button>
            </form>
            <div class="tracker-items" id="foodList"></div>
          </div>

          <!-- Decor -->
          <div class="tracker-section">
            <div class="tracker-header">
              <h3>ğŸŒ¸ Decor</h3>
            </div>
            <form id="decorForm" class="tracker-form">
              <input name="element" type="text" placeholder="Decor Element" required />
              <input name="vendor" type="text" placeholder="Decorator" />
              <input name="theme" type="text" placeholder="Theme/Color" />
              <select name="status">
                <option value="pending">Pending</option>
                <option value="approved">Approved</option>
                <option value="ready">Ready</option>
              </select>
              <input name="cost" type="number" placeholder="Cost" min="0" step="0.01" />
              <button type="submit" class="btn-add-mini">+</button>
            </form>
            <div class="tracker-items" id="decorList"></div>
          </div>

          <!-- Entertainment -->
          <div class="tracker-section">
            <div class="tracker-header">
              <h3>ğŸµ Entertainment</h3>
            </div>
            <form id="djForm" class="tracker-form">
              <input name="slot" type="text" placeholder="Time" required />
              <input name="performer" type="text" placeholder="Performer" />
              <input name="type" type="text" placeholder="Type" />
              <input name="notes" type="text" placeholder="Notes" />
              <input name="cost" type="number" placeholder="Cost" min="0" step="0.01" />
              <button type="submit" class="btn-add-mini">+</button>
            </form>
            <div class="tracker-items" id="djList"></div>
          </div>

          <!-- Favors -->
          <div class="tracker-section">
            <div class="tracker-header">
              <h3>ğŸ Party Favors</h3>
            </div>
            <form id="favorForm" class="tracker-form">
              <input name="item" type="text" placeholder="Favor Item" required />
              <input name="qty" type="number" placeholder="Qty" min="1" value="1" />
              <input name="target" type="text" placeholder="For whom" />
              <input name="notes" type="text" placeholder="Details" />
              <input name="cost" type="number" placeholder="Cost" min="0" step="0.01" />
              <button type="submit" class="btn-add-mini">+</button>
            </form>
            <div class="tracker-items" id="favorList"></div>
          </div>
        </section>

        <!-- Budget Tab -->
        <section class="tab-content" id="tab-budget">
          <h2 class="section-title">Budget Overview</h2>
          
          <div class="budget-summary">
            <div class="budget-total-card">
              <div class="budget-label">Total Wedding Budget</div>
              <div class="budget-amount" id="totalBudgetAmount">â‚¹0</div>
            </div>
          </div>

          <div class="budget-breakdown">
            <h3>Budget by Event</h3>
            <div id="eventBudgetList" class="event-budget-list">
              <!-- Event budget breakdown will be rendered here -->
            </div>
          </div>

          <div class="budget-breakdown">
            <h3>Budget by Category</h3>
            <div class="category-budget-grid">
              <div class="budget-category-card">
                <div class="category-icon">ğŸ“¦</div>
                <div class="category-name">Materials</div>
                <div class="category-amount" id="budgetMaterials">â‚¹0</div>
              </div>
              <div class="budget-category-card">
                <div class="category-icon">ğŸ½ï¸</div>
                <div class="category-name">Food</div>
                <div class="category-amount" id="budgetFood">â‚¹0</div>
              </div>
              <div class="budget-category-card">
                <div class="category-icon">ğŸŒ¸</div>
                <div class="category-name">Decor</div>
                <div class="category-amount" id="budgetDecor">â‚¹0</div>
              </div>
              <div class="budget-category-card">
                <div class="category-icon">ğŸµ</div>
                <div class="category-name">Entertainment</div>
                <div class="category-amount" id="budgetEntertainment">â‚¹0</div>
              </div>
              <div class="budget-category-card">
                <div class="category-icon">ğŸ</div>
                <div class="category-name">Favors</div>
                <div class="category-amount" id="budgetFavors">â‚¹0</div>
              </div>
            </div>
          </div>
        </section>

      </main>

      <!-- Status Toast -->
      <div id="statusToast" class="status-toast"></div>

      <!-- Share Modal -->
      <div id="shareModal" class="modal">
        <div class="modal-content">
          <button class="modal-close" id="closeModal">&times;</button>
          <h2>Share Your Wedding Plan</h2>
          <p class="modal-desc">Copy this link to share your wedding plan with others:</p>
          <div class="modal-link-display">
            <input type="text" id="modalShareLink" readonly />
            <button id="modal CopyBtn" class="modal-copy-btn">Copy Link</button>
          </div>
        </div>
      </div>
    </div>

    <script src="app.js"></script>
  </body>
</html>
